# Web性能的定义
> Web性能是网站或应用程序的客观度量和可感知的用户体验
- **减少整体加载时间**：减小文件体积，减少HTTP请求，使用预加载
- **使网站尽快可用**：仅加载首屏内容，其他内容根据需要进行懒加载
- **平滑和交互性**：使用CSS代替JS动画，减少UI重绘
- **感知表现**：耗时操作要给用户反馈，比如加载动画、进度条、骨架屏等提示信息
- **性能测定**：性能指标、性能测试、性能监控持续优化。

# 优化方案
- 从发出请求到收到响应的优化，比如DNS查询，HTTP长连接，HTTP2，HTTP压缩，HTTP缓存等
- 关键渲染路径优化，比如是否存在不必要的重绘和回流。
- 加载过程的优化，比如延迟加载，是否有不需要在首屏展示的非关键信息，占用了页面加载的时间。
- 资源优化，比如图片、视频等不同的格式类型会有不同的使用场景，在使用的过程中是否恰当。
- 构建优化，比如压缩合并、基于webpack构建优化方案等。

# 性能指标
## RAIL性能模型
- **R - Response**
响应 - 尽可能快速的响应用户，应该在100ms以内响应用户输入
- **A - Animation**
动画 - 在展示动画的时候，每一帧应该以16ms进行渲染，这样可以保持动画效果的一致性，并且避免卡顿。 - 相当于60帧
- **I - Idle**
空闲 - 当使用JavsScript主线程的时候，应该把任务划分到执行时间小于50ms的片段中去，这样可以释放线程以进行用户交互。 - 异步去做
- **L - Load**
加载 - 应该在小于5s的时间内加载完成你的网站，并可以进行用户交互。

## Web Vitals
- **加载性能**
LCP(Largest Contentful Paint) - 显示最大内容元素所需时间
- **交互性**
FID(First Input Delay) - 首次输入延迟时间
- **视觉稳定性**
CLS(Cumulative Layout Shift) - 累计布局配置偏移

## 测试工具
lighthouse

## 浏览器 - 多进程模型
浏览器里的每一个页面都是一个单独的进程，而不是线程。浏览器是多进程的。这样某一个页面崩了也不会影响全部的。

