# 进程和线程
## 进程
- 进程是是**内存**中运行的应用程序。
- 是**系统**进行资源调度和分配的基本单位。
- 实现了操作系统的并发。
## 线程
- 线程是进程的**子任务**
- 是**CPU**调度和分派的基本单位
- 实现了进程内部的并发
## 进程与线程的区别
1. **一个**进程可以包含**多个**线程，一个线程只能属于一个进程
2. 进程在执行过程中拥有独立的内存单元，而多个线程共享进程的内存
3. 进程是资源分配的最小单位，线程是CPU调度的最小单位
4. 进程之间不会相互影响，线程一个挂掉则整个进程挂掉
5. 进程切换的开销远大于线程切换的开销
6. 进程编程调试简单可靠性高，线程调试小队复杂
## 进程间通信的方式
进程间通信主要包括**管道，系统IPC**
线程间可以直接读写**进程数据段**

---

# 事件委托
事件委托的本质上是把一个元素的事件委托到另一个元素上(通常是父元素或更外层元素)。
**作用**
1. 减少内存消耗
假如要为li绑定事件，但多个id绑定多次事件极大的消耗内存。
故利用事件委托，把事件绑定给ul，再利用event.target判断点击哪个li，执行后续操作。
``` html
<ul id="list">
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
  ......
  <li>item n</li>
</ul>
```
2. 动态绑定事件
假如要动态生成li，可以把事件绑定在最外层

---

# 取消HTTP请求
1. `xhr.abort()`
2. axios中利用`AbortController`

    ``` javascript
    const controller = new AbortController();

    axios.get('/foo/bar', {
      signal: controller.signal
    }).then(function(response) {
      //...
    });
    // 取消请求
    controller.abort()
    ```

---

# 节流和防抖
节流：事件触发后，规定时间内，事件处理函数不能再次被调用。即在规定时间内，只能调用一次。
防抖：多次触发事件，事件处理函数只执行一次，规定时间内，只有最后一次生效。

**使用**
- 节流： 记录时间，只有大于阈值时，才会进行第二次执行。
- 防抖： 每次创建一个延时器，并且每次都清楚上一次的延时器。重新设置新的延时器。

---

# Cookie, Session , Token的区别
## Cookie
cookie是保存在**本地**的数据。cookie由**服务器生成**，发送给浏览器，浏览器把cookie保存到某个目录下的文本文件内，下一次请求同一网站时, 按照一定的原则在后台自动把该cookie发送给服务器

cookie的内容主要包括：名字、值、**过期时间**、路径和域。

不同的浏览器之间可以公用一个cookie。

## Session
Session保存在**服务器**，也是为了存放用户信息。用户离开网站后Session被销毁。
客户端存储的其实是`session id`，保存这个session id的方式可以采用`cookie`.
在会话状态中，客户端用`session id`标明身份

本质上其实是Cookie+Session一起协同工作的

## Token
token 也称作令牌，本质上是一个**32位字符串**在客户端一般存放于localStorage，cookie，或sessionStorage中。在服务器一般存于数据库中
认证流程与cookie类似


token可以防护**csrf**，cookie和session不行

---

# 图片懒加载的实现原理
预先将图片真实的src放在我们自定义的属性里面（比如data-src），当图片出现在了我们的视口范围之内的时候，再把data-src赋值给src属性，完成图片加载。
``` html
// 页面初始化时
<img data-src="https://img11.360buyimg.com/pop/s590x470.jpg.webp" />

// 当图片出现在了视口范围之内 修改为 : 
<img data-src="https://img11.360buyimg.com/pop/s590x470.jpg.webp" src="https://img11.360buyimg.com/pop/s590x470.jpg.webp"/>
```
实现方法： 可以计算图片到页面顶端的距离。

--- 

